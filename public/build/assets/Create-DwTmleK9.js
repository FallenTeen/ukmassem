import{c as ee,u as ae,r as X,j as a,H as se}from"./app-BMaJ277M.js";import{I as m}from"./input-error-BwbLNOaF.js";import{B as Y}from"./app-logo-icon-DDDCtqyw.js";import{I as S}from"./input-DVApTORf.js";import{L as o}from"./label-C8n63Ft7.js";import{S as q,a as z,b as G,c as J,d as c}from"./select-D7AfJtrD.js";import{A as re}from"./app-layout-B40fJwoS.js";import{C as te}from"./circle-check-CH6Pt_6R.js";/* empty css            */import"./index-CwAk2UvS.js";import"./index-CawQK52s.js";import"./index-BOrodNbs.js";import"./index-BvWwRT-b.js";import"./tooltip-BaastClK.js";import"./createLucideIcon-C2ADE_Lv.js";import"./index-SfzFyyBq.js";import"./check-DW21Srej.js";import"./progress-DRqacVrA.js";const ne=[{title:"Proker",href:"/proker"},{title:"Buat Proker",href:"/proker/create"}],ie=[{id:1,label:"Info Dasar"},{id:2,label:"Ketua Pelaksana"},{id:3,label:"Review & Submit"}];function Be(n){const e=ee.c(76),{mainProkers:u,ketuaOptions:p}=n;let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=new Date().getFullYear(),e[0]=C):C=e[0];let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w={main_proker_id:"",nama_main_proker_baru:"",nama_lengkap:"",tahun:String(C),tanggal_mulai:"",tanggal_selesai:"",deskripsi:"",status:"draft",ketua_pelaksana_id:""},e[1]=w):w=e[1];const{data:s,setData:i,post:L,processing:B,errors:l}=ae(w),[t,Q]=X.useState(1),[P,U]=X.useState(null);let D;e[2]!==t?(D=()=>{t<3&&Q(oe)},e[2]=t,e[3]=D):D=e[3];const R=D;let M;e[4]!==t?(M=()=>{t>1&&Q(me)},e[4]=t,e[5]=M):M=e[5];const V=M;let F;e[6]!==L?(F=r=>{r.preventDefault(),L("/proker",{onSuccess:()=>{U({type:"success",message:"Proker berhasil dibuat."})},onError:()=>{U({type:"error",message:"Terjadi kesalahan saat membuat proker."})}})},e[6]=L,e[7]=F):F=e[7];const H=F;let I;e[8]!==s.main_proker_id||e[9]!==u?(I=s.main_proker_id&&s.main_proker_id!=="new"&&u.find(r=>String(r.id)===s.main_proker_id)||null,e[8]=s.main_proker_id,e[9]=u,e[10]=I):I=e[10];const $=I;let T;e[11]!==s.ketua_pelaksana_id||e[12]!==p?(T=s.ketua_pelaksana_id!==""&&p.find(r=>String(r.id)===s.ketua_pelaksana_id)||null,e[11]=s.ketua_pelaksana_id,e[12]=p,e[13]=T):T=e[13];const d=T;let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(se,{title:"Buat Proker"}),e[14]=E):E=e[14];let x;e[15]!==P?(x=P&&a.jsx("div",{className:"mb-4 rounded-md border px-4 py-3 text-sm shadow-sm md:max-w-md",children:a.jsx("div",{className:P.type==="success"?"text-green-800":"text-red-800",children:P.message})}),e[15]=P,e[16]=x):x=e[16];let K;e[17]===Symbol.for("react.memo_cache_sentinel")?(K=a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Buat Proker Baru"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Lengkapi informasi proker secara bertahap."})]}),e[17]=K):K=e[17];let g;e[18]!==t?(g=ie.map(r=>{const Z=r.id===t,W=r.id<t;return a.jsxs("li",{className:`flex flex-1 items-center gap-2 rounded-md border px-3 py-2 ${Z?"border-primary bg-primary/5 text-primary":W?"border-green-300 bg-green-50 text-green-800":"border-border bg-muted/30"}`,children:[W?a.jsx(te,{className:"h-4 w-4"}):a.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full border text-[10px]",children:r.id}),a.jsx("span",{children:r.label})]},r.id)}),e[18]=t,e[19]=g):g=e[19];let _;e[20]!==g?(_=a.jsx("ol",{className:"flex flex-col justify-between gap-2 text-xs text-muted-foreground md:flex-row",children:g}),e[20]=g,e[21]=_):_=e[21];let h;e[22]!==s.deskripsi||e[23]!==s.main_proker_id||e[24]!==s.nama_lengkap||e[25]!==s.nama_main_proker_baru||e[26]!==s.status||e[27]!==s.tahun||e[28]!==s.tanggal_mulai||e[29]!==s.tanggal_selesai||e[30]!==l||e[31]!==u||e[32]!==i||e[33]!==t?(h=t===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{children:"Main Proker"}),a.jsxs(q,{value:s.main_proker_id,onValueChange:r=>i("main_proker_id",r),children:[a.jsx(z,{children:a.jsx(G,{placeholder:"Pilih main proker"})}),a.jsxs(J,{children:[u.map(de),a.jsx(c,{value:"new",children:"Buat Main Proker Baru"})]})]}),a.jsx(m,{message:l.main_proker_id})]}),s.main_proker_id==="new"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"nama_main_proker_baru",children:"Nama Main Proker Baru"}),a.jsx(S,{id:"nama_main_proker_baru",value:s.nama_main_proker_baru,onChange:r=>i("nama_main_proker_baru",r.target.value)}),a.jsx(m,{message:l.nama_main_proker_baru})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"nama_lengkap",children:"Nama Proker"}),a.jsx(S,{id:"nama_lengkap",value:s.nama_lengkap,onChange:r=>i("nama_lengkap",r.target.value)}),a.jsx(m,{message:l.nama_lengkap})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"tahun",children:"Tahun"}),a.jsx(S,{id:"tahun",type:"number",value:s.tahun,onChange:r=>i("tahun",r.target.value)}),a.jsx(m,{message:l.tahun})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"tanggal_mulai",children:"Tanggal Mulai"}),a.jsx(S,{id:"tanggal_mulai",type:"date",value:s.tanggal_mulai,onChange:r=>i("tanggal_mulai",r.target.value)}),a.jsx(m,{message:l.tanggal_mulai})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"tanggal_selesai",children:"Tanggal Selesai"}),a.jsx(S,{id:"tanggal_selesai",type:"date",value:s.tanggal_selesai,onChange:r=>i("tanggal_selesai",r.target.value)}),a.jsx(m,{message:l.tanggal_selesai})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{htmlFor:"deskripsi",children:"Deskripsi"}),a.jsx(S,{id:"deskripsi",value:s.deskripsi,onChange:r=>i("deskripsi",r.target.value)}),a.jsx(m,{message:l.deskripsi})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{children:"Status Proker"}),a.jsxs(q,{value:s.status,onValueChange:r=>i("status",r),children:[a.jsx(z,{children:a.jsx(G,{})}),a.jsxs(J,{children:[a.jsx(c,{value:"draft",children:"Draft"}),a.jsx(c,{value:"aktif",children:"Aktif"}),a.jsx(c,{value:"selesai",children:"Selesai"}),a.jsx(c,{value:"dibatalkan",children:"Dibatalkan"})]})]}),a.jsx(m,{message:l.status})]})]}),e[22]=s.deskripsi,e[23]=s.main_proker_id,e[24]=s.nama_lengkap,e[25]=s.nama_main_proker_baru,e[26]=s.status,e[27]=s.tahun,e[28]=s.tanggal_mulai,e[29]=s.tanggal_selesai,e[30]=l,e[31]=u,e[32]=i,e[33]=t,e[34]=h):h=e[34];let k;e[35]!==s.ketua_pelaksana_id||e[36]!==l||e[37]!==p||e[38]!==d||e[39]!==i||e[40]!==t?(k=t===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Ketua pelaksana bersifat opsional dan dapat diatur nanti."}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(o,{children:"Ketua Pelaksana"}),a.jsxs(q,{value:s.ketua_pelaksana_id||"none",onValueChange:r=>i("ketua_pelaksana_id",r==="none"?"":r),children:[a.jsx(z,{children:a.jsx(G,{placeholder:"Belum ditentukan"})}),a.jsxs(J,{children:[a.jsx(c,{value:"none",children:"Belum ditentukan"}),p.map(le)]})]}),a.jsx(m,{message:l.ketua_pelaksana_id})]}),d&&a.jsxs("div",{className:"rounded-md bg-muted/60 p-3 text-sm",children:[a.jsx("div",{className:"font-medium",children:d.nama_lengkap||d.user?.name||"-"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["NIM: ",d.NIM||"-"," | Divisi:"," ",d.divisi||"-"]})]})]}),e[35]=s.ketua_pelaksana_id,e[36]=l,e[37]=p,e[38]=d,e[39]=i,e[40]=t,e[41]=k):k=e[41];let j;e[42]!==s.deskripsi||e[43]!==s.main_proker_id||e[44]!==s.nama_lengkap||e[45]!==s.nama_main_proker_baru||e[46]!==s.status||e[47]!==s.tahun||e[48]!==s.tanggal_mulai||e[49]!==s.tanggal_selesai||e[50]!==d||e[51]!==$?.nama_proker||e[52]!==t?(j=t===3&&a.jsx("div",{className:"space-y-4 text-sm",children:a.jsxs("div",{className:"rounded-md bg-muted/60 p-3",children:[a.jsx("div",{className:"font-medium",children:"Ringkasan Proker"}),a.jsxs("dl",{className:"mt-2 grid gap-2 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Nama Proker"}),a.jsx("dd",{children:s.nama_lengkap||"-"})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Main Proker"}),a.jsx("dd",{children:s.main_proker_id==="new"?s.nama_main_proker_baru||"-":$?.nama_proker||"-"})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Tahun"}),a.jsx("dd",{children:s.tahun||"-"})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Tanggal"}),a.jsx("dd",{children:s.tanggal_mulai||s.tanggal_selesai?[s.tanggal_mulai,s.tanggal_selesai].filter(Boolean).join(" - "):"-"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Deskripsi"}),a.jsx("dd",{children:s.deskripsi||"-"})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Status"}),a.jsx("dd",{children:s.status})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-xs text-muted-foreground",children:"Ketua Pelaksana"}),a.jsx("dd",{children:d?d.nama_lengkap||d.user?.name:"Belum ditentukan"})]})]})]})}),e[42]=s.deskripsi,e[43]=s.main_proker_id,e[44]=s.nama_lengkap,e[45]=s.nama_main_proker_baru,e[46]=s.status,e[47]=s.tahun,e[48]=s.tanggal_mulai,e[49]=s.tanggal_selesai,e[50]=d,e[51]=$?.nama_proker,e[52]=t,e[53]=j):j=e[53];const O=t===1;let f;e[54]!==V||e[55]!==O?(f=a.jsx(Y,{type:"button",variant:"secondary",disabled:O,onClick:V,children:"Sebelumnya"}),e[54]=V,e[55]=O,e[56]=f):f=e[56];let v;e[57]!==R||e[58]!==B||e[59]!==t?(v=t<3?a.jsx(Y,{type:"button",onClick:R,children:"Selanjutnya"}):a.jsx(Y,{type:"submit",disabled:B,children:B?"Menyimpan...":"Simpan Proker"}),e[57]=R,e[58]=B,e[59]=t,e[60]=v):v=e[60];let b;e[61]!==f||e[62]!==v?(b=a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[f,v]}),e[61]=f,e[62]=v,e[63]=b):b=e[63];let N;e[64]!==H||e[65]!==h||e[66]!==k||e[67]!==j||e[68]!==b?(N=a.jsxs("form",{onSubmit:H,className:"space-y-6",children:[h,k,j,b]}),e[64]=H,e[65]=h,e[66]=k,e[67]=j,e[68]=b,e[69]=N):N=e[69];let y;e[70]!==_||e[71]!==N?(y=a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 rounded-lg border bg-background p-4 md:p-6",children:[K,_,N]}),e[70]=_,e[71]=N,e[72]=y):y=e[72];let A;return e[73]!==y||e[74]!==x?(A=a.jsxs(re,{breadcrumbs:ne,children:[E,a.jsxs("div",{className:"p-4",children:[x,y]})]}),e[73]=y,e[74]=x,e[75]=A):A=e[75],A}function le(n){return a.jsx(c,{value:String(n.id),children:n.nama_lengkap||n.user?.name||"-"},n.id)}function de(n){return a.jsx(c,{value:String(n.id),children:n.nama_proker},n.id)}function me(n){return n-1}function oe(n){return n+1}export{Be as default};
