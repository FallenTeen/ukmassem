import{c as Fe,r as o,j as t,L as xe,a as we,H as Me}from"./app-P6dEBHuB.js";import{u as Ve,a as Oe,b as Be,A as Ge}from"./app-layout-DDwDYC06.js";import{B as He}from"./badge-DvWSpYcc.js";import{b as Ie,B as qe}from"./app-logo-icon-C6P0zqqK.js";import{I as Ke}from"./input-s65x02e2.js";import{L}from"./label-PaUswsNQ.js";import{a as ve,b as Ne,c as Se,d as r,S as ke}from"./select-0NCozzLV.js";import{S as Je}from"./spinner-BOHTEugV.js";/* empty css            */import"./index-XwOQEk2p.js";import"./index-EKCV0cNf.js";import"./index-Bpqn9jTr.js";import"./tooltip-BmFw5_9G.js";import"./createLucideIcon-D2UukEZg.js";import"./progress-CYXrDxWg.js";import"./index-DQ55ufzE.js";import"./index-E1yFkMRt.js";import"./check-CcYeobWG.js";import"./loader-circle-DAQxbspK.js";const Qe=[{title:"Kelola Anggota",href:"/kelola-anggota"}],Ce={film:"bg-yellow-100 text-yellow-800 border-yellow-200",foto:"bg-green-100 text-green-800 border-green-200",musik:"bg-blue-100 text-blue-800 border-blue-200",tari:"bg-red-100 text-red-800 border-red-200",teater:"bg-amber-900/10 text-amber-900 border-amber-900/40"},Ue=["rajawebsite","ketum_waketum","sekretaris","bendahara","dm","humas","kad_fot","kad_fil","kad_tar","kad_mus","kad_tea","rt","litbang","pelatih","pembina","po","anggota"],We=[10,20,50];function bt(n){const e=Fe.c(93),{anggotas:l,filters:i}=n,[c,De]=o.useState(i.search??"");let E;e[0]!==i.divisi?(E=Array.isArray(i.divisi)?i.divisi:i.divisi?[i.divisi]:[],e[0]=i.divisi,e[1]=E):E=e[1];const[m,Pe]=o.useState(E),[R,Te]=o.useState(i.status_anggota??""),[$,Le]=o.useState(i.role??""),[z,Ee]=o.useState(typeof i.per_page=="number"?i.per_page:20),[d,F]=o.useState(!1),[P,he]=o.useState(null),T=Ve();let M;e[2]!==m?(M=new Set(m),e[2]=m,e[3]=M):M=e[3];const fe=M;let V;e[4]===Symbol.for("react.memo_cache_sentinel")?(V=s=>{Pe(a=>a.includes(s)?a.filter(_e=>_e!==s):[...a,s])},e[4]=V):V=e[4];const Re=V;let O;e[5]!==z||e[6]!==$||e[7]!==c||e[8]!==m[0]||e[9]!==R?(O=()=>{F(!0);const s=m[0]??"";we.get("/kelola-anggota",{search:c||void 0,divisi:s||void 0,status_anggota:R||void 0,role:$||void 0,per_page:z},{preserveState:!0,replace:!0,onFinish:()=>{F(!1)},onError:()=>{he({type:"error",message:"Gagal memuat data anggota."})}})},e[5]=z,e[6]=$,e[7]=c,e[8]=m[0],e[9]=R,e[10]=O):O=e[10];const pe=O;let B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=s=>{s&&(F(!0),we.get(s,{},{preserveState:!0,preserveScroll:!0,onFinish:()=>{F(!1)},onError:()=>{he({type:"error",message:"Gagal memuat halaman."})}}))},e[11]=B):B=e[11];const $e=B;let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Me,{title:"Kelola Anggota"}),e[12]=G):G=e[12];let x;e[13]!==P?(x=P&&t.jsx("div",{className:"fixed right-4 top-4 z-50 max-w-sm",children:t.jsx("div",{className:`rounded-md border px-4 py-3 text-sm shadow-md ${P.type==="success"?"border-green-200 bg-green-50 text-green-800":"border-red-200 bg-red-50 text-red-800"}`,children:t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsx("span",{children:P.message}),t.jsx("button",{type:"button",className:"text-xs font-semibold",onClick:()=>he(null),children:"Tutup"})]})})}),e[13]=P,e[14]=x):x=e[14];let H;e[15]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("h2",{className:"mb-3 text-sm font-semibold",children:"Filter Anggota"}),e[15]=H):H=e[15];let q;e[16]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(L,{htmlFor:"search",children:"Cari"}),e[16]=q):q=e[16];let K;e[17]===Symbol.for("react.memo_cache_sentinel")?(K=s=>De(s.target.value),e[17]=K):K=e[17];let h;e[18]!==c?(h=t.jsxs("div",{className:"space-y-1",children:[q,t.jsx(Ke,{id:"search",placeholder:"Nama, NIM, Nomor Anggota",value:c,onChange:K})]}),e[18]=c,e[19]=h):h=e[19];let J;e[20]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(L,{children:"Divisi"}),e[20]=J):J=e[20];let Q;e[21]===Symbol.for("react.memo_cache_sentinel")?(Q=["musik","foto","film","tari","teater"],e[21]=Q):Q=e[21];let f;e[22]!==fe?(f=t.jsxs("div",{className:"space-y-2",children:[J,t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Q.map(s=>t.jsx("button",{type:"button",onClick:()=>Re(s),className:`rounded-full border px-2.5 py-0.5 text-xs font-medium capitalize transition-colors ${fe.has(s)?Ce[s]:"border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:s},s))})]}),e[22]=fe,e[23]=f):f=e[23];let U;e[24]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(L,{children:"Status Anggota"}),e[24]=U):U=e[24];const ue=R||"all";let W;e[25]===Symbol.for("react.memo_cache_sentinel")?(W=s=>Te(s==="all"?"":s),e[25]=W):W=e[25];let X;e[26]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ve,{children:t.jsx(Ne,{placeholder:"Semua status"})}),e[26]=X):X=e[26];let Y;e[27]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(Se,{children:[t.jsx(r,{value:"all",children:"Semua status"}),t.jsx(r,{value:"calon_anggota",children:"Calon Anggota"}),t.jsx(r,{value:"anggota_muda",children:"Anggota Muda"}),t.jsx(r,{value:"anggota_tetap",children:"Anggota Tetap"}),t.jsx(r,{value:"nonaktif",children:"Nonaktif"}),t.jsx(r,{value:"alumni",children:"Alumni"}),t.jsx(r,{value:"pembina",children:"Pembina"}),t.jsx(r,{value:"pelatih",children:"Pelatih"}),t.jsx(r,{value:"lain",children:"Lain"})]}),e[27]=Y):Y=e[27];let p;e[28]!==ue?(p=t.jsxs("div",{className:"space-y-1",children:[U,t.jsxs(ke,{value:ue,onValueChange:W,children:[X,Y]})]}),e[28]=ue,e[29]=p):p=e[29];let Z;e[30]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(L,{children:"Role"}),e[30]=Z):Z=e[30];const ge=$||"all";let ee;e[31]===Symbol.for("react.memo_cache_sentinel")?(ee=s=>Le(s==="all"?"":s),e[31]=ee):ee=e[31];let te;e[32]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(ve,{children:t.jsx(Ne,{placeholder:"Semua role"})}),e[32]=te):te=e[32];let se;e[33]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs(Se,{children:[t.jsx(r,{value:"all",children:"Semua role"}),Ue.map(Ye)]}),e[33]=se):se=e[33];let u;e[34]!==ge?(u=t.jsxs("div",{className:"space-y-1",children:[Z,t.jsxs(ke,{value:ge,onValueChange:ee,children:[te,se]})]}),e[34]=ge,e[35]=u):u=e[35];let ae;e[36]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(L,{children:"Per halaman"}),e[36]=ae):ae=e[36];const be=String(z);let le;e[37]===Symbol.for("react.memo_cache_sentinel")?(le=s=>Ee(Number.parseInt(s,10)),e[37]=le):le=e[37];let re;e[38]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ve,{children:t.jsx(Ne,{})}),e[38]=re):re=e[38];let ie;e[39]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Se,{children:We.map(Xe)}),e[39]=ie):ie=e[39];let g;e[40]!==be?(g=t.jsxs("div",{className:"space-y-1",children:[ae,t.jsxs(ke,{value:be,onValueChange:le,children:[re,ie]})]}),e[40]=be,e[41]=g):g=e[41];let b;e[42]!==d?(b=d&&t.jsx(Je,{}),e[42]=d,e[43]=b):b=e[43];let j;e[44]!==pe||e[45]!==d||e[46]!==b?(j=t.jsx("div",{className:"flex gap-2 pt-2",children:t.jsxs(qe,{type:"button",className:"flex-1",onClick:pe,disabled:d,children:[b,"Terapkan"]})}),e[44]=pe,e[45]=d,e[46]=b,e[47]=j):j=e[47];let y;e[48]!==h||e[49]!==f||e[50]!==p||e[51]!==u||e[52]!==g||e[53]!==j?(y=t.jsx("div",{className:"w-full space-y-4 md:w-72",children:t.jsxs("div",{className:"rounded-lg border bg-background p-4",children:[H,t.jsxs("div",{className:"space-y-4",children:[h,f,p,u,g,j]})]})}),e[48]=h,e[49]=f,e[50]=p,e[51]=u,e[52]=g,e[53]=j,e[54]=y):y=e[54];let ne;e[55]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("h1",{className:"text-lg font-semibold",children:"Daftar Anggota"}),e[55]=ne):ne=e[55];let _;e[56]!==l.total?(_=t.jsxs("div",{children:[ne,t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total ",l.total," anggota terdaftar."]})]}),e[56]=l.total,e[57]=_):_=e[57];let oe;e[58]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(xe,{href:"/kelola-anggota/create",className:Ie({variant:"default",size:"sm"}),children:"Tambah Anggota"}),e[58]=oe):oe=e[58];let v;e[59]!==_?(v=t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_,oe]}),e[59]=_,e[60]=v):v=e[60];let ce;e[61]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("thead",{className:"border-b bg-muted/40 text-xs uppercase text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2",children:"Anggota"}),t.jsx("th",{className:"px-4 py-2",children:"NIM"}),t.jsx("th",{className:"px-4 py-2",children:"Divisi"}),t.jsx("th",{className:"px-4 py-2",children:"Status"}),t.jsx("th",{className:"px-4 py-2",children:"Role"}),t.jsx("th",{className:"px-4 py-2 text-right",children:"Aksi"})]})}),e[61]=ce):ce=e[61];let N;e[62]!==l.data.length?(N=l.data.length===0&&t.jsx("tr",{children:t.jsx("td",{className:"px-4 py-6 text-center text-sm text-muted-foreground",colSpan:6,children:"Tidak ada data anggota."})}),e[62]=l.data.length,e[63]=N):N=e[63];let S;if(e[64]!==l.data||e[65]!==T){let s;e[67]!==T?(s=a=>t.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/40",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Oe,{children:t.jsx(Be,{className:"bg-primary/10 text-xs font-semibold uppercase text-primary",children:T(a.nama_lengkap||a.user?.name||"A")})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:a.nama_lengkap||a.user?.name||"-"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:a.nomor_telepon||"Tanpa nomor"})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm",children:a.NIM||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm",children:a.divisi?t.jsx(He,{variant:"outline",className:`capitalize ${Ce[a.divisi]||""}`,children:a.divisi}):t.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),t.jsx("td",{className:"px-4 py-3 text-sm capitalize",children:a.status_anggota.replace("_"," ")}),t.jsx("td",{className:"px-4 py-3 text-sm",children:String(a.user?.role??"-")}),t.jsx("td",{className:"px-4 py-3 text-right text-sm",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(xe,{href:`/kelola-anggota/${a.id}`,className:"text-xs font-medium text-primary hover:underline",children:"Detail"}),t.jsx(xe,{href:`/kelola-anggota/${a.id}/edit`,className:"text-xs font-medium text-amber-600 hover:underline",children:"Edit"})]})})]},a.id),e[67]=T,e[68]=s):s=e[68],S=l.data.map(s),e[64]=l.data,e[65]=T,e[66]=S}else S=e[66];let k;e[69]!==N||e[70]!==S?(k=t.jsx("div",{className:"overflow-x-auto rounded-lg border bg-background",children:t.jsxs("table",{className:"w-full min-w-[720px] text-left text-sm",children:[ce,t.jsxs("tbody",{children:[N,S]})]})}),e[69]=N,e[70]=S,e[71]=k):k=e[71];const je=l.from??0,ye=l.to??0;let A;e[72]!==l.total||e[73]!==je||e[74]!==ye?(A=t.jsxs("div",{children:["Menampilkan ",je," - ",ye," dari"," ",l.total," data"]}),e[72]=l.total,e[73]=je,e[74]=ye,e[75]=A):A=e[75];let w;if(e[76]!==l.links){let s;e[78]===Symbol.for("react.memo_cache_sentinel")?(s=(a,_e)=>{const Ae=a.url===null,ze=a.label==="&laquo; Previous"?"«":a.label==="Next &raquo;"?"»":a.label;return t.jsx("button",{type:"button",disabled:Ae,onClick:()=>$e(a.url),className:`min-w-8 rounded border px-2 py-1 text-xs ${a.active?"border-primary bg-primary text-primary-foreground":"border-gray-200 bg-background text-foreground hover:bg-muted"} ${Ae?"opacity-50":""}`,dangerouslySetInnerHTML:{__html:ze}},_e)},e[78]=s):s=e[78],w=l.links.map(s),e[76]=l.links,e[77]=w}else w=e[77];let I;e[79]!==w?(I=t.jsx("div",{className:"flex flex-wrap items-center gap-1",children:w}),e[79]=w,e[80]=I):I=e[80];let C;e[81]!==A||e[82]!==I?(C=t.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 text-xs text-muted-foreground md:flex-row",children:[A,I]}),e[81]=A,e[82]=I,e[83]=C):C=e[83];let me;e[84]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("div",{className:"fixed bottom-6 right-6 md:hidden",children:t.jsx(xe,{href:"/kelola-anggota/create",className:Ie({variant:"default",size:"lg"}),children:"+"})}),e[84]=me):me=e[84];let D;e[85]!==v||e[86]!==k||e[87]!==C?(D=t.jsxs("div",{className:"flex-1 space-y-4",children:[v,k,C,me]}),e[85]=v,e[86]=k,e[87]=C,e[88]=D):D=e[88];let de;return e[89]!==y||e[90]!==D||e[91]!==x?(de=t.jsxs(Ge,{breadcrumbs:Qe,children:[G,t.jsxs("div",{className:"flex flex-col gap-4 p-4 md:flex-row",children:[x,y,D]})]}),e[89]=y,e[90]=D,e[91]=x,e[92]=de):de=e[92],de}function Xe(n){return t.jsx(r,{value:String(n),children:n},n)}function Ye(n){return t.jsx(r,{value:n,children:n},n)}export{bt as default};
