import{c as je,r as k,j as t,a as be,H as ye,L as ce}from"./app-P6dEBHuB.js";import{B as Se}from"./badge-DvWSpYcc.js";import{B as Ne}from"./app-logo-icon-C6P0zqqK.js";import{I as _e}from"./input-s65x02e2.js";import{L as J}from"./label-PaUswsNQ.js";import{c as te,d as o,a as se,b as le,S as ae}from"./select-0NCozzLV.js";import{A as ve}from"./app-layout-DDwDYC06.js";/* empty css            */import"./index-XwOQEk2p.js";import"./index-EKCV0cNf.js";import"./index-DQ55ufzE.js";import"./index-Bpqn9jTr.js";import"./tooltip-BmFw5_9G.js";import"./createLucideIcon-D2UukEZg.js";import"./index-E1yFkMRt.js";import"./check-CcYeobWG.js";import"./progress-CYXrDxWg.js";const ke=[{title:"Manajemen Akun",href:"/user-account"}],ge={musik:"Musik",foto:"Foto",film:"Film",tari:"Tari",teater:"Teater"},we=["rajawebsite","ketum_waketum","sekretaris","bendahara","dm","humas","kad_fot","kad_fil","kad_tar","kad_mus","kad_tea","rt","litbang","pelatih","pembina","po","anggota"];function Pe(s){const e=je.c(67),{anggotas:a}=s,[r,ne]=k.useState("semua"),[c,me]=k.useState(""),[n,oe]=k.useState(""),[i,de]=k.useState(""),[w,re]=k.useState(!1),[g,ue]=k.useState(null);let B;if(e[0]!==a.data||e[1]!==c||e[2]!==n||e[3]!==i||e[4]!==r){let l;e[6]!==c||e[7]!==n||e[8]!==i||e[9]!==r?(l=m=>{const ie=!!m.user;if(r==="sudah"&&!ie||r==="belum"&&ie||c&&m.divisi!==c||n&&m.user?.role!==n)return!1;if(i.trim()!==""){const ee=i.toLowerCase(),he=m.nama_lengkap||m.user?.name||"",fe=m.NIM||"",pe=m.user?.email||"";if(!he.toLowerCase().includes(ee)&&!fe.toLowerCase().includes(ee)&&!pe.toLowerCase().includes(ee))return!1}return!0},e[6]=c,e[7]=n,e[8]=i,e[9]=r,e[10]=l):l=e[10],B=a.data.filter(l),e[0]=a.data,e[1]=c,e[2]=n,e[3]=i,e[4]=r,e[5]=B}else B=e[5];const d=B;let A;e[11]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{re(!0),be.post("/user-account/bulk-create",{},{onFinish:()=>re(!1),onError:()=>ue({type:"error",message:"Gagal membuka halaman bulk create."})})},e[11]=A):A=e[11];const xe=A;let C;e[12]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(ye,{title:"Manajemen Akun User"}),e[12]=C):C=e[12];let u;e[13]!==g?(u=g&&t.jsx("div",{className:"max-w-sm rounded-md border px-4 py-3 text-sm shadow-sm",children:t.jsx("div",{className:g.type==="success"?"text-green-800":"text-red-800",children:g.message})}),e[13]=g,e[14]=u):u=e[14];let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold",children:"Manajemen Akun User"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola akun login untuk anggota ASSEM."})]}),e[15]=L):L=e[15];const Q=w?"Memuat...":"Buat Akun Massal";let x;e[16]!==w||e[17]!==Q?(x=t.jsxs("div",{className:"flex flex-col justify-between gap-3 md:flex-row md:items-center",children:[L,t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsx(Ne,{type:"button",onClick:xe,disabled:w,children:Q})})]}),e[16]=w,e[17]=Q,e[18]=x):x=e[18];let M;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("h2",{className:"text-sm font-semibold",children:"Filter"}),e[19]=M):M=e[19];let F;e[20]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(J,{htmlFor:"search",children:"Cari"}),e[20]=F):F=e[20];let I;e[21]===Symbol.for("react.memo_cache_sentinel")?(I=l=>de(l.target.value),e[21]=I):I=e[21];let h;e[22]!==i?(h=t.jsxs("div",{className:"space-y-2",children:[F,t.jsx(_e,{id:"search",placeholder:"Nama, NIM, email",value:i,onChange:I})]}),e[22]=i,e[23]=h):h=e[23];let E;e[24]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(J,{children:"Status Akun"}),e[24]=E):E=e[24];let R;e[25]===Symbol.for("react.memo_cache_sentinel")?(R=l=>ne(l),e[25]=R):R=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(se,{children:t.jsx(le,{})}),e[26]=T):T=e[26];let V;e[27]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(te,{children:[t.jsx(o,{value:"semua",children:"Semua"}),t.jsx(o,{value:"sudah",children:"Sudah punya akun"}),t.jsx(o,{value:"belum",children:"Belum punya akun"})]}),e[27]=V):V=e[27];let f;e[28]!==r?(f=t.jsxs("div",{className:"space-y-2",children:[E,t.jsxs(ae,{value:r,onValueChange:R,children:[T,V]})]}),e[28]=r,e[29]=f):f=e[29];let D;e[30]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(J,{children:"Divisi"}),e[30]=D):D=e[30];const W=c||"all";let U;e[31]===Symbol.for("react.memo_cache_sentinel")?(U=l=>me(l==="all"?"":l),e[31]=U):U=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(se,{children:t.jsx(le,{placeholder:"Semua divisi"})}),e[32]=$):$=e[32];let H;e[33]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(te,{children:[t.jsx(o,{value:"all",children:"Semua divisi"}),Object.entries(ge).map(Ce)]}),e[33]=H):H=e[33];let p;e[34]!==W?(p=t.jsxs("div",{className:"space-y-2",children:[D,t.jsxs(ae,{value:W,onValueChange:U,children:[$,H]})]}),e[34]=W,e[35]=p):p=e[35];let O;e[36]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(J,{children:"Role"}),e[36]=O):O=e[36];const X=n||"all";let q;e[37]===Symbol.for("react.memo_cache_sentinel")?(q=l=>oe(l==="all"?"":l),e[37]=q):q=e[37];let z;e[38]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(se,{children:t.jsx(le,{placeholder:"Semua role"})}),e[38]=z):z=e[38];let G;e[39]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(te,{children:[t.jsx(o,{value:"all",children:"Semua role"}),we.map(Ae)]}),e[39]=G):G=e[39];let j;e[40]!==X?(j=t.jsxs("div",{className:"space-y-2",children:[O,t.jsxs(ae,{value:X,onValueChange:q,children:[z,G]})]}),e[40]=X,e[41]=j):j=e[41];let b;e[42]!==h||e[43]!==f||e[44]!==p||e[45]!==j?(b=t.jsxs("div",{className:"space-y-3 rounded-lg border bg-background p-4",children:[M,h,f,p,j]}),e[42]=h,e[43]=f,e[44]=p,e[45]=j,e[46]=b):b=e[46];let K;e[47]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("thead",{className:"border-b bg-muted/40 text-xs uppercase text-muted-foreground",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2",children:"Nama"}),t.jsx("th",{className:"px-4 py-2",children:"NIM"}),t.jsx("th",{className:"px-4 py-2",children:"Divisi"}),t.jsx("th",{className:"px-4 py-2",children:"Status Akun"}),t.jsx("th",{className:"px-4 py-2",children:"Email"}),t.jsx("th",{className:"px-4 py-2",children:"Role"}),t.jsx("th",{className:"px-4 py-2 text-right",children:"Aksi"})]})}),e[47]=K):K=e[47];let y;e[48]!==d.length?(y=d.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:"Tidak ada data."})}),e[48]=d.length,e[49]=y):y=e[49];let S;e[50]!==d?(S=d.map(Be),e[50]=d,e[51]=S):S=e[51];let N;e[52]!==y||e[53]!==S?(N=t.jsx("div",{className:"overflow-x-auto rounded-lg border bg-background",children:t.jsxs("table",{className:"w-full min-w-[720px] text-left text-sm",children:[K,t.jsxs("tbody",{children:[y,S]})]})}),e[52]=y,e[53]=S,e[54]=N):N=e[54];const Y=a.from??0,Z=a.to??0;let _;e[55]!==a.total||e[56]!==Y||e[57]!==Z?(_=t.jsx("div",{className:"md:col-span-2 flex items-center justify-between text-xs text-muted-foreground",children:t.jsxs("div",{children:["Menampilkan ",Y," - ",Z," dari"," ",a.total," data (server)"]})}),e[55]=a.total,e[56]=Y,e[57]=Z,e[58]=_):_=e[58];let v;e[59]!==b||e[60]!==N||e[61]!==_?(v=t.jsxs("div",{className:"grid gap-4 md:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]",children:[b,N,_]}),e[59]=b,e[60]=N,e[61]=_,e[62]=v):v=e[62];let P;return e[63]!==v||e[64]!==u||e[65]!==x?(P=t.jsxs(ve,{breadcrumbs:ke,children:[C,t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[u,x,v]})]}),e[63]=v,e[64]=u,e[65]=x,e[66]=P):P=e[66],P}function Be(s){const e=!!s.user;return t.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/40",children:[t.jsx("td",{className:"px-4 py-3 text-sm",children:s.nama_lengkap||s.user?.name||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm",children:s.NIM||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm capitalize",children:s.divisi||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm",children:t.jsx(Se,{variant:e?"default":"secondary",children:e?"Sudah":"Belum"})}),t.jsx("td",{className:"px-4 py-3 text-sm",children:s.user?.email||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm",children:String(s.user?.role??"-")}),t.jsx("td",{className:"px-4 py-3 text-right text-xs",children:e?t.jsx(ce,{href:`/user-account/${s.user?.id}/edit`,className:"font-medium text-primary hover:underline",children:"Edit Akun"}):t.jsx(ce,{href:`/user-account/create/${s.id}`,className:"font-medium text-primary hover:underline",children:"Buat Akun"})})]},s.id)}function Ae(s){return t.jsx(o,{value:s,children:s},s)}function Ce(s){const[e,a]=s;return t.jsx(o,{value:e,children:a},e)}export{Pe as default};
